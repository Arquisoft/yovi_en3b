ifndef::imagesdir[:imagesdir: ../images]

[[section-runtime-view]]
== Runtime View

=== Full game

This diagram represents a full game, from when the user logs to when the user ends the game

[plantuml,"Playing the game",png]
----
@startuml
actor User
participant WebApp
participant RustModule
database Db

User -> WebApp: Log in
WebApp -> Db: Checks credentials
Db --> WebApp: Returns data of the user
User -> WebApp: Selects board size, difficulty...
WebApp -> RustModule: Create board
RustModule --> WebApp: Board created
loop
    User -> WebApp: Plays their turn
    WebApp -> RustModule: Checks if there is a winner

    break There is a winner  
        RustModule --> WebApp: Returns result of the game
        WebApp --> User: Shows result of the gmae
    end

    WebApp -> RustModule: Asks the machine to play
    RustModule --> WebApp: Returns machine's play
    WebApp --> User: Shows what the machine has done
end
WebApp -> Db: Save data of the game
@enduml
----

=== Asking for a hint

This diagram represents the user asking for a hint

[plantuml,"Asking for Hint",png]
----
@startuml
actor User
participant WebApp
participant RustModule
database Db

User -> WebApp: Log in
WebApp -> Db: Checks credentials
Db --> WebApp: Returns data of the user
User -> WebApp: Selects board size, difficulty...
WebApp -> RustModule: Create board
RustModule --> WebApp: Board created

User -> WebApp: Asks for a hint
WebApp -> RustModule: Requests the hint
RustModule --> WebApp: Returns in YEN notation the movement hint
WebApp --> User: Returns the hint graphically

@enduml
----


